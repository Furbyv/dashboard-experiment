<div class="grid-container">
  <gridster
    default-options
    [editable]="editable"
    class="grid"
    *ngIf="dashboard$ | async as dashboard"
  >
    <gridster-item
      [item]="item.position"
      *ngFor="let item of dashboard$ | async; trackBy: trackBy"
      (itemChange)="itemChange($event.item, $event.itemComponent)"
      (itemInit)="itemInit()"
    >
      <div class="item-container">
        <app-edit-cell-overlay
          *ngIf="editable"
          (delete)="removeItem(item, dashboard)"
        ></app-edit-cell-overlay>
        <mat-card class="item-content">
          <app-card-template class="item" [template]="item"></app-card-template>
        </mat-card>
      </div>
    </gridster-item>
  </gridster>

  <app-grid-action-bar
    *ngIf="dashboard$ | async as dashboard"
    class="action-bar"
    (addItem)="addItem(dashboard)"
    (isEditable)="toggleEditMode($event)"
  ></app-grid-action-bar>
</div>
